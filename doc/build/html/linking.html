<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Linking against RNAlib &mdash; ViennaRNA Package</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="_static/vrna_32.png"/>
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="C Examples" href="examples/c.html" />
    <link rel="prev" title="Using RNAlib" href="using_rnalib.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> ViennaRNA
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Usage and Tutorials:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="manpages.html">Manpages</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="using_rnalib.html">Using RNAlib</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Linking against RNAlib</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#compiler-and-linker-flags">Compiler and Linker flags</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-pkg-config-tool">The pkg-config tool</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="examples/c.html">C Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/python.html">Python Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/perl5.html">Perl 5 Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="io.html">I/O Formats</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">RNAlib API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">Concepts and Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="wrappers.html">SWIG Wrappers</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_python.html">Python API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="news.html">What's new</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="citing.html">Citation</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>


    
        <p class="caption">
            <span class="caption-text">
            
                Links
            
            </span>
        </p>
        <ul>
            
                
                    <li class="toctree-l1"><a href="https://github.com/ViennaRNA/ViennaRNA"><i class="fa fa-github fa-fw"></i> Source code</a></li>
                
            
                
                    <li class="toctree-l1"><a href="https://github.com/ViennaRNA/ViennaRNA/issues"><i class="fa fa-bug fa-fw"></i> Issue tracker</a></li>
                
            
        </ul>
    


        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ViennaRNA</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="using_rnalib.html">Using RNAlib</a> &raquo;</li>
      <li>Linking against RNAlib</li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="linking-against-rnalib">
<h1>Linking against RNAlib<a class="headerlink" href="#linking-against-rnalib" title="Permalink to this headline"></a></h1>
<p>In order to use our implemented algorithms you simply need to link your program
to our <em>RNAlib</em> C-library that usually comes along with the ViennaRNA Package
installation. If you’ve installed the ViennaRNA Package as a pre-build binary package,
you probably need the corresponding development package, e.g. <code class="docutils literal notranslate"><span class="pre">viennarna-devel</span></code>, or
<code class="docutils literal notranslate"><span class="pre">viennarna-dev</span></code>. The only thing that is left is to include the ViennaRNA header
files into your source code, e.g.:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;ViennaRNA/mfe.h&gt;</span><span class="cp"></span>
</pre></div>
</div>
<p>and start using our fast and efficient algorithm implementations.</p>
<div class="admonition-see-also admonition">
<p class="admonition-title">See also…</p>
<p>In the <a class="reference internal" href="examples/c.html"><span class="doc">C Examples</span></a> section, we list a small set of example code that
usually is a good starting point for your application.</p>
</div>
<section id="compiler-and-linker-flags">
<h2>Compiler and Linker flags<a class="headerlink" href="#compiler-and-linker-flags" title="Permalink to this headline"></a></h2>
<p>Of course, simply adding the ViennaRNA header files into your source code is
usually not enough. You probably need to tell your compiler where to find the
header files, and sometimes add additional pre-processor directives. Whenever
your installation of <em>RNAlib</em> was build with default settings and the header
files were installed into their default location, a simple:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">I</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">include</span>
</pre></div>
</div>
<p>pre-processor/compile flag should suffice. It can even be omitted in this case,
since your compiler should search this directory by default anyway. You only
need to change the path from <code class="docutils literal notranslate"><span class="pre">/usr/include</span></code> to the correct location whenever
the header files have been installed into a non-standard directory.</p>
<p>If you’ve compiled <em>RNAlib</em> with some non-default settings then you probably
need to define some additional pre-processor macros:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">VRNA_DISABLE_C11_FEATURES</span></code> … Disable C11/C++11 features.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Add this directive to your pre-processor/compile flags only if <em>RNAlib</em>
was build with the <code class="docutils literal notranslate"><span class="pre">--disable-c11</span></code> configure option.</p>
</div>
<div class="admonition-see-also admonition">
<p class="admonition-title">See also…</p>
<p><a class="reference internal" href="configuration.html#disable-c11-c-11-features"><span class="std std-ref">Disable C11/C++11 features</span></a> and <a class="reference internal" href="utils/data_structures.html#c.vrna_C11_features" title="vrna_C11_features"><code class="xref c c-func docutils literal notranslate"><span class="pre">vrna_C11_features()</span></code></a></p>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">VRNA_WARN_DEPRECATED</span></code> … Enable warnings for using deprecated symbols.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Adding this directive enables compiler warnings whenever you use symbols
in <em>RNAlib</em> that are marked <em>deprecated</em>.</p>
</div>
<div class="admonition-see-also admonition">
<p class="admonition-title">See also…</p>
<p><a class="reference internal" href="configuration.html#deprecated-symbols"><span class="std std-ref">Deprecated symbols</span></a> and <a class="reference internal" href="deprecated.html"><span class="doc">Deprecated List</span></a></p>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">USE_FLOAT_PF</span></code> … Use single precision floating point operations instead
of double precision in partition function computations.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Define this macro only if <em>RNAlib</em> was build with the <code class="docutils literal notranslate"><span class="pre">--enable-floatpf</span></code>
configure option!</p>
</div>
<div class="admonition-see-also admonition">
<p class="admonition-title">See also…</p>
<p><a class="reference internal" href="configuration.html#single-precision"><span class="std std-ref">Single precision</span></a></p>
</div>
</li>
</ul>
<p>For instance, you might want to add the following definition(s) to your
pre-processor/compile flags:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">DVRNA_DISABLE_C11_FEATURES</span>
</pre></div>
</div>
<p>Finally, linking against <em>RNAlib</em> is achieved by adding the following linker flag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">L</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span> <span class="o">-</span><span class="n">lRNA</span> <span class="o">-</span><span class="n">flto</span> <span class="o">-</span><span class="n">fopenmp</span>
</pre></div>
</div>
<p>Again, the path to the library, <code class="docutils literal notranslate"><span class="pre">/usr/lib</span></code>, may be omitted if this path is
searched for libraries by default. The second flag tells the linker to include
<code class="docutils literal notranslate"><span class="pre">libRNA.a</span></code>, and the remaining two flags activate <a class="reference internal" href="configuration.html#link-time-optimization"><span class="std std-ref">Link Time Optimization</span></a>
and <a class="reference internal" href="configuration.html#openmp"><span class="std std-ref">OpenMP</span></a> support, respectively.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Depending on your linker, the last two flags may differ.</p>
<p>Depending on your configure time decisions, you can drop one or both of the last flags.</p>
<p>In case you’ve compiled <em>RNAlib</em> with LTO support (See <a class="reference internal" href="configuration.html#link-time-optimization"><span class="std std-ref">Link Time Optimization</span></a>) and you are using a different compiler for your third-party project that
links against our library, you may add the <code class="docutils literal notranslate"><span class="pre">-fno-lto</span></code> flag to disable Link Time
Optimization.</p>
</div>
<div class="admonition-see-also admonition">
<p class="admonition-title">See also…</p>
<p><a class="reference internal" href="faq.html#linking-fails-with-lto-error"><span class="std std-ref">Linking fails with LTO error</span></a></p>
</div>
</section>
<section id="the-pkg-config-tool">
<h2>The pkg-config tool<a class="headerlink" href="#the-pkg-config-tool" title="Permalink to this headline"></a></h2>
<p>Instead of hard-coding the required compiler and linker flags, you can also let the
<code class="docutils literal notranslate"><span class="pre">pkg-config</span></code> tool automatically determine the required flags. This tool is usually
packaged for any Linux distribution and should be available for MacOS X and MinGW as
well. We ship a file <code class="docutils literal notranslate"><span class="pre">RNAlib2.pc</span></code> which is installed along with the static <code class="docutils literal notranslate"><span class="pre">libRNA.a</span></code>
C-library and populated with all required compiler and linker flags that correspond to
your configure time decisions.</p>
<p>The compiler flags required for properly building your code that uses <em>RNAlib</em> can be
easily obtained via:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pkg</span><span class="o">-</span><span class="n">config</span> <span class="o">--</span><span class="n">cflags</span> <span class="n">RNAlib2</span>
</pre></div>
</div>
<p>You get the corresponding linker flags using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pkg</span><span class="o">-</span><span class="n">config</span> <span class="o">--</span><span class="n">libs</span> <span class="n">RNAlib2</span>
</pre></div>
</div>
<p>With this widely accepted standard it is also very easy to integrate <em>RNAlib</em> in your
<code class="docutils literal notranslate"><span class="pre">autotools</span></code> project, just have a look at the <code class="docutils literal notranslate"><span class="pre">PKG_CHECK_MODULES</span></code> macro.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="using_rnalib.html" class="btn btn-neutral float-left" title="Using RNAlib" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="examples/c.html" class="btn btn-neutral float-right" title="C Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 1994 - 2023, Ronny Lorenz, Ivo L. Hofacker, et al..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>